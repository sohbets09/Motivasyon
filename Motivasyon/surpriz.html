<!DOCTYPE html>
<html lang="tk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MetaFlow - Motivasion S√∂zleri</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0a0a0a, #1a1a1a, #0a0a0a);
      color: #e0e0e0;
      transition: background 1.5s ease-in-out, color 0.5s ease-in-out; 
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; 
      overflow-x: hidden;
      padding-top: 120px;
      position: relative;
    }

    body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: inherit;
        transition: opacity 1.5s ease-in-out;
        z-index: -1;
    }

    header {
      width: 100%;
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(0, 0, 0, 0.4);
      box-shadow: 0 4px 20px rgba(0, 255, 255, 0.2); 
      z-index: 1000;
      position: fixed; 
      top: 0;
      left: 0;
      animation: slideDownHeader 0.7s ease-out forwards; 
      transform: translateY(-100%);
    }

    @keyframes slideDownHeader {
      to { transform: translateY(0); }
    }

    .logo {
      font-size: 2.5rem; 
      font-weight: bold;
      color: #00ffff;
      text-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff;
      animation: pulseNeon 2s infinite alternate; 
    }

    @keyframes pulseNeon {
      0%, 100% { text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff; }
      50% { text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff, 0 0 60px #00ffff; }
    }

    .settings-toggle {
      padding: 14px 25px;
      background: #00ffff;
      color: #0a0a0a;
      border: none;
      border-radius: 35px;
      cursor: pointer;
      font-size: 1.1rem;
      font-weight: bold;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.8); 
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out; 
      position: relative;
      overflow: hidden;
      animation: fadeInButton 1s ease-out 0.5s forwards;
      opacity: 0;
      transform: scale(0.8);
    }

    @keyframes fadeInButton {
      to { opacity: 1; transform: scale(1); }
    }

    .settings-toggle:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.95);
      background: #00e6e6;
    }

    .settings-toggle::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: all 0.4s ease-in-out;
    }

    .settings-toggle:hover::before {
      left: 110%;
    }

    .settings {
      position: absolute;
      top: 100px; 
      right: 40px;
      background: rgba(0, 0, 0, 0.7); 
      backdrop-filter: blur(20px); 
      padding: 25px; 
      border-radius: 18px;
      box-shadow: 0 0 25px rgba(0, 255, 255, 0.6);
      display: none;
      z-index: 999;
      animation: fadeInOut 0.4s ease-in-out forwards; 
    }

    @keyframes fadeInOut {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .settings.hidden {
      animation: fadeOut 0.3s ease-in-out forwards;
    }

    @keyframes fadeOut {
      from { opacity: 1; transform: translateY(0); }
      to { opacity: 0; transform: translateY(-10px); }
    }


    .theme-button, .lang-button {
      display: block;
      margin: 10px 0; 
      padding: 12px 22px;
      border: none;
      border-radius: 30px;
      font-size: 1.05rem;
      cursor: pointer;
      width: 220px; 
      text-align: center;
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
      font-weight: 600;
      animation: slideInSettings 0.5s ease-out forwards; 
      transform: translateX(-20px);
      opacity: 0;
    }

    .settings.hidden .theme-button,
    .settings.hidden .lang-button {
      animation: slideOutSettings 0.3s ease-in-out forwards;
    }

    @keyframes slideInSettings {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    @keyframes slideOutSettings {
      from { opacity: 1; transform: translateX(0); }
      to { opacity: 0; transform: translateX(-20px); }
    }

    .theme-button:hover, .lang-button:hover {
      transform: scale(1.03);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }

    .theme-girl { background: linear-gradient(to bottom right, #ff7f9e, #f7b9d7); color: #3a000d; box-shadow: 0 0 15px rgba(255, 127, 158, 0.7); }
    .theme-boy { background: linear-gradient(to bottom right, #00bfff, #87cefa); color: #001f3f; box-shadow: 0 0 15px rgba(0, 191, 255, 0.7); }
    .theme-simple { background: linear-gradient(to bottom right, #444, #777); color: #eee; box-shadow: 0 0 15px rgba(68, 68, 68, 0.7); }

    .lang-tk { background: linear-gradient(to bottom right, #00cc99, #66ffcc); color: #000; box-shadow: 0 0 15px rgba(0, 204, 153, 0.7); }
    .lang-tr { background: linear-gradient(to bottom right, #ff6600, #ffb366); color: #fff; box-shadow: 0 0 15px rgba(255, 102, 0, 0.7); }
    .lang-en { background: linear-gradient(to bottom right, #3399ff, #99ccff); color: #fff; box-shadow: 0 0 15px rgba(51, 153, 255, 0.7); }
    .lang-ru { background: linear-gradient(to bottom right, #9933cc, #cc99ff); color: #fff; box-shadow: 0 0 15px rgba(153, 51, 204, 0.7); }

    hr {
      border: 0;
      height: 2px; 
      background-image: linear-gradient(to right, rgba(0, 255, 255, 0.2), rgba(0, 255, 255, 0.8), rgba(0, 255, 255, 0.2));
      margin: 20px 0; 
      animation: fadeInLine 1s ease-out 1s forwards; 
      opacity: 0;
    }

    @keyframes fadeInLine {
      to { opacity: 1; }
    }

    h1 {
      margin-top: 160px; 
      font-size: 3.5rem;
      text-align: center;
      text-shadow: 0 0 25px #00ffff, 0 0 40px #00ffff;
      letter-spacing: 3px;
      animation: fadeInUp 1s ease-out 0.2s forwards, neonGlow 2s infinite alternate;
      opacity: 0;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes neonGlow {
      from { text-shadow: 0 0 15px #00ffff, 0 0 30px #00ffff; }
      to { text-shadow: 0 0 25px #00ffff, 0 0 50px #00ffff, 0 0 70px #00ffff; }
    }

    /* Quote Box */
    .quote-box {
      margin: 80px auto; 
      padding: 35px; 
      border: 4px solid #00ffff; 
      border-radius: 25px; 
      max-width: 75%; 
      min-height: 150px; 
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem; 
      font-weight: 600;
      text-align: center;
      background-color: rgba(0, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      animation: scaleUp 1s ease-out 0.7s forwards, glow 2.5s infinite alternate, fadeInQuote 1s ease-out 1.2s forwards; 
      box-shadow: 0 0 40px rgba(0, 255, 255, 0.7), 0 0 60px rgba(0, 255, 255, 0.5);
      line-height: 1.5;
      position: relative;
      opacity: 0;
      transform: scale(0.9);
      transition: all 0.5s ease-in-out; 
    }

    /* AKICI GE√áƒ∞≈û ANƒ∞MASYONU CSS'i */
    .quote-content {
        transition: opacity 0.5s ease-in-out; 
        width: 100%;
        text-align: center;
        opacity: 1; 
    }

    .quote-box.fade-out .quote-content {
        opacity: 0;
    }
    /* END AKICI GE√áƒ∞≈û ANƒ∞MASYONU CSS'i */


    @keyframes fadeInQuote {
      to { opacity: 1; }
    }

    @keyframes scaleUp {
      from { opacity: 0.8; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    @keyframes glow {
      from { box-shadow: 0 0 30px rgba(0, 255, 255, 0.7), 0 0 50px rgba(0, 255, 255, 0.5); }
      to { box-shadow: 0 0 40px rgba(0, 255, 255, 0.9), 0 0 65px rgba(0, 255, 255, 0.7); }
    }

    /* Aksiyon Butonlarƒ± */
    .action-buttons {
        margin-top: 60px; 
        margin-bottom: 40px;
        display: flex;
        gap: 20px;
        justify-content: center;
        align-items: center;
        z-index: 5;
        animation: fadeInUpButton 1s ease-out 1.4s forwards;
        opacity: 0;
        transform: translateY(20px);
    }
    
    .next-button {
      padding: 18px 35px; 
      border: none;
      border-radius: 40px;
      font-size: 1.2rem;
      font-weight: bold;
      cursor: pointer;
      background: #00ffff;
      color: #0a0a0a;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.8); 
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
      position: relative;
      overflow: hidden;
      animation: pulseButton 2.5s infinite alternate; 
    }
    
    .save-button, .share-button {
        padding: 18px 25px;
        border-radius: 40px;
        font-size: 1.2rem;
        font-weight: bold;
        cursor: pointer;
        background: #4CAF50; 
        color: #fff;
        border: 2px solid #388E3C;
        box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .save-button:hover, .share-button:hover {
        transform: scale(1.03);
        box-shadow: 0 0 20px rgba(76, 175, 80, 0.8);
    }


    @keyframes fadeInUpButton {
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulseButton {
      0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(0, 255, 255, 0.8); }
      50% { transform: scale(1.03); box-shadow: 0 0 30px rgba(0, 255, 255, 0.9); }
    }

    .next-button:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.95);
      background: #00e6e6;
    }

    .next-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
      transition: all 0.4s ease-in-out;
    }

    .next-button:hover::before {
      left: 110%;
    }

    /* FAVORƒ∞LER PANELƒ∞ CSS'i */
    .favorites-panel {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        backdrop-filter: blur(10px);
        z-index: 2000;
        display: none;
        flex-direction: column;
        align-items: center;
        padding: 50px 20px;
        color: #e0e0e0;
        overflow-y: auto;
        animation: fadeInPanel 0.4s ease-out forwards;
    }

    @keyframes fadeInPanel {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .favorites-panel h2 {
        font-size: 2.5rem;
        color: #00ffff;
        margin-bottom: 30px;
        text-shadow: 0 0 10px #00ffff;
    }

    .favorites-list {
        list-style: none;
        padding: 0;
        width: 90%;
        max-width: 800px;
    }

    .favorite-item {
        background: rgba(0, 255, 255, 0.05);
        border: 1px solid rgba(0, 255, 255, 0.2);
        padding: 15px 20px;
        margin-bottom: 15px;
        border-radius: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1.2rem;
        transition: background 0.3s;
    }

    .favorite-item:hover {
        background: rgba(0, 255, 255, 0.1);
    }

    .delete-btn {
        background: none;
        border: none;
        color: #ff5555;
        font-size: 1.5rem;
        cursor: pointer;
        margin-left: 20px;
        transition: color 0.2s, transform 0.2s;
    }

    .delete-btn:hover {
        color: #ff0000;
        transform: scale(1.1);
    }

    .close-btn {
        position: sticky; 
        bottom: 20px;
        margin-top: 30px;
        padding: 15px 40px;
        background: #00ffff;
        color: #0a0a0a;
        border: none;
        border-radius: 35px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: bold;
        box-shadow: 0 0 20px rgba(0, 255, 255, 0.8);
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .close-btn:hover {
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 0 30px rgba(0, 255, 255, 0.95);
    }

    .no-favorites {
        font-size: 1.5rem;
        color: #aaa;
        margin-top: 50px;
    }
    /* END FAVORƒ∞LER PANELƒ∞ CSS'i */


    footer {
      margin-top: auto;
      margin-bottom: 30px;
      display: flex;
      gap: 30px; 
      z-index: 1;
      animation: slideInBottom 1s ease-out 1.6s forwards;
      opacity: 0;
      transform: translateY(20px);
    }

    @keyframes slideInBottom {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .social-icon {
      width: 48px; 
      height: 48px;
      cursor: pointer;
      filter: drop-shadow(0 0 10px #00ffff); 
      transition: transform 0.3s ease-in-out, filter 0.3s ease-in-out, opacity 0.3s ease-in-out;
      opacity: 0.8;
    }

    .social-icon:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 15px #00ffff);
      opacity: 1;
    }

    @media (max-width: 768px) {
      body {
        padding-top: 100px;
      }
      header {
        padding: 15px 25px;
      }
      .logo {
        font-size: 2rem;
      }
      .settings-toggle {
        padding: 12px 20px;
        font-size: 1rem;
      }
      .settings {
        top: 80px;
        right: 25px;
        padding: 20px;
        width: 200px;
      }
      .theme-button, .lang-button {
        width: 100%;
        font-size: 0.95rem;
        padding: 10px 20px;
      }
      h1 {
        font-size: 3rem;
        margin-top: 140px;
      }
      .quote-box {
        font-size: 1.6rem;
        padding: 30px;
        max-width: 80%;
        min-height: 130px;
      }
      .action-buttons {
          margin-top: 55px;
          gap: 15px;
      }
      .next-button, .save-button, .share-button {
        padding: 14px 25px;
        font-size: 1.1rem;
      }
      footer {
        gap: 25px;
        margin-bottom: 25px;
      }
      .social-icon {
        width: 40px;
        height: 40px;
      }
    }

    @media (max-width: 480px) {
      body {
        padding-top: 90px;
      }
      header {
        padding: 10px 15px;
      }
      .logo {
        font-size: 1.7rem;
      }
      .settings-toggle {
        padding: 10px 18px;
        font-size: 0.9rem;
      }
      .settings {
        top: 70px;
        right: 15px;
        width: 180px;
        padding: 15px;
      }
      .theme-button, .lang-button {
        font-size: 0.9rem;
        padding: 9px 18px;
      }
      h1 {
        font-size: 2.4rem;
        margin-top: 120px;
      }
      .quote-box {
        font-size: 1.3rem;
        padding: 25px;
        min-height: 110px;
        max-width: 90%;
      }
      .action-buttons {
          margin-top: 50px;
          gap: 10px;
      }
      .next-button, .save-button, .share-button {
        padding: 12px 20px;
        font-size: 1rem;
      }
      footer {
        gap: 20px;
        margin-bottom: 20px;
      }
      .social-icon {
        width: 35px;
        height: 35px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">MetaFlow</div>
    <button class="settings-toggle" onclick="toggleSettings()">‚öôÔ∏è Sazlamalar</button>
  </header>

  <div class="settings" id="settingsPanel">
    <button class="theme-button theme-girl" onclick="setTheme('girl')">Gyzlar √º√ßin tema</button>
    <button class="theme-button theme-boy" onclick="setTheme('boy')">Oglanlar √º√ßin tema</button>
    <button class="theme-button theme-simple" onclick="setTheme('simple')">√ù√∂neke√Ω tema</button>
    <hr>
    <button class="lang-button lang-tk" onclick="setLanguage('tk')">T√ºrkmen√ße</button>
    <button class="lang-button lang-tr" onclick="setLanguage('tr')">T√ºrk√ße</button>
    <button class="lang-button lang-en" onclick="setLanguage('en')">English</button>
    <button class="lang-button lang-ru" onclick="setLanguage('ru')">–†—É—Å—Å–∫–∏–π</button>
    <hr>
    <button class="theme-button lang-tk" onclick="loadFavorites()">‚≠ê Kaydedilenler</button> 
  </div>

  <h1 id="title">Motivasion S√∂zleri</h1>
  
  <div class="quote-box" id="quoteBox">
    <span class="quote-content" id="quoteContent">Ba≈ülamak √º√ßin aja√Ωyp bolmagy≈à geregi √Ωok.</span>
  </div>
  
  <div class="action-buttons">
    <button class="save-button" onclick="saveQuote()" id="saveBtn">‚≠ê Kaydet</button>
    <button class="next-button" onclick="nextQuote()" id="nextBtn">Indiki s√∂zi √º√Ωtget</button>
    <button class="share-button" onclick="shareQuote()" id="shareBtn">üì§ Pa√Ωla≈ü</button>
  </div>


  <footer>
    <a href="https://www.instagram.com/sohbets09?igsh=MWIzMzY5c2NibWY5cQ==" target="_blank">
      <img src="png/Instagram.jpg" class="social-icon" alt="Instagram">
    </a>
    <a href="https://www.tiktok.com/@sohbets_09?_t=ZS-8wjxbw0Dujo&_r=1" target="_blank">
      <img src="png/tiktok.png" class="social-icon" alt="TikTok">
    </a>
  </footer>
  
  <div class="favorites-panel" id="favoritesPanel">
    <h2 id="favoritesTitle">Kaydedilen S√∂zler</h2>
    <ul class="favorites-list" id="favoritesList">
      </ul>
    <button class="close-btn" onclick="closeFavorites()" id="closeFavoritesBtn">Kapat</button>
  </div>

  <script>
    const quotes = {
      tk: [
        "Ba≈ülamak √º√ßin aja√Ωyp bolmagy≈à geregi √Ωok.",
        "Hi√ß wagt gi√ß d√§l.",
        "Sen ba≈üararsy≈à!",
        "Yhlas ed√Ω√§n, maksadyna √Ωet√Ω√§r.",
        "Umydy≈ày √Ωitirme, √Ωol dowam ed√Ω√§r.",
        "Gorkma, ba≈üla!",
        "Her g√ºn t√§ze m√ºmkin√ßilikdir.",
        "Maksady≈àyzy hi√ß ha√ßan √Ωatdan √ßykarma≈à.",
        "Her bir uly √Ωe≈ài≈ü ki√ßi √§dimlerden ba≈üla√Ωar.",
        "Durmu≈üda i≈à uly ≈ü√∂hrat hi√ß ha√ßan √Ωykylmazlykda d√§l-de, her √Ωykylanda √Ωa≈àadan a√Ωaga galmakdadyr.",
        "√ùe≈ài≈ü, i≈à kyn pursatda-da dowam edenlere geler.",
        "Uly arzuw edi≈à, seb√§bi uly arzuwlar adamlary herekete getir√Ω√§r.",
        "Uzak √Ωoly≈à ilkinji √§dimini √§t.",
        "√ñwrenmegi hi√ß wagt bes etme, seb√§bi durmu≈ü √∂wretmegi hi√ß wagt bes etmez.",
        "M√ºmkin d√§l di√Ωen zat √Ωok, di≈àe ba≈üga√ßa √ß√∂zg√ºdi bar.",
        "√ùe≈ài≈ü isle√Ω√§n bolsa≈à, ilki bilen √∂z√º≈àe ynan.",
        "Kyn√ßylyklar sizi saklamaga d√§l, e√Ωsem g√º√Ω√ßlendirm√§ge hyzmat ed√Ω√§r.",
        "√áagyry≈ülar sizi duruzmak √º√ßin d√§l, g√º√Ω√ßlendirmek √º√ßindir.",
        "Her g√ºn bir ≈üansdyr.",
        "Maksady≈àyzdan g√∂z√º≈àizi a√Ωyrma≈à.",
        "Uly i≈üler ki√ßi ba≈ülangy√ßlardan dog√Ωar.",
        "Durmu≈üda i≈à uly ≈üan-≈ü√∂hrat hi√ß wagt √Ωykylmazlykda d√§l, ga√Ωtam her ga√ßany≈àda t√§zeden galmakdadyr.",
        "√ùe≈ài≈ü, i≈à √ßetin pursatlarda-da dowam edenlere gel√Ω√§r.",
        "Uly hy√Ωal edi≈à, seb√§bi uly hy√Ωallar adamlary herekete getir√Ω√§r.",
        "Uzak √Ωolu≈à ilkinji √§dimini √§di≈à.",
        "√ñwrenmegi hi√ß wagt go√Ωma≈à, seb√§bi durmu≈ü √∂wretmegi hi√ß wagt go√Ωmaz.",
        "M√ºmkin d√§l di√Ωen zat √Ωok, di≈àe ba≈üga√ßa √ß√∂z√ºwi bar.",
        "Eger √Ωe≈àmek isle√Ω√§n bolsa≈à, ilki √∂z√º≈àe ynan.",
        "Kyn√ßylyklar sizi duruzmak √º√ßin d√§l, e√Ωsem g√º√Ω√ßlendirmek √º√ßindir.",
        "Her g√ºn √∂z√º≈ài t√§zeden d√∂ret.",
        "Maksatlary≈ày yzarlamagy hi√ß wagt go√Ωma.",
        "Her bir ki√ßijik √§dim, uly bir maksada √Ωakynla≈üdyr√Ωar."
      ],
      tr: [
        "Ba≈ülamak i√ßin harika olman gerekmez.",
        "Asla ge√ß deƒüil.",
        "Ba≈üarabilirsin!",
        "√áalƒ±≈üan kazanƒ±r.",
        "Umut varsa yol vardƒ±r.",
        "Korkma, ba≈üla!",
        "Her g√ºn yeni bir fƒ±rsattƒ±r.",
        "Hedeflerinizi asla g√∂zden ka√ßƒ±rmayƒ±n.",
        "Her b√ºy√ºk ba≈üarƒ± k√º√ß√ºk adƒ±mlarla ba≈ülar.",
        "Hayattaki en b√ºy√ºk zafer asla d√º≈ümemekte deƒüil, her d√º≈üt√ºƒü√ºm√ºzde yeniden ayaƒüa kalkmaktƒ±r.",
        "Zafer, en zor anlarda bile devam edenlere gelir.",
        "B√ºy√ºk hayal kurun, √ß√ºnk√º b√ºy√ºk hayaller insanlarƒ± harekete ge√ßirir.",
        "Uzun bir yolculuƒüun ilk adƒ±mƒ±nƒ± atƒ±n.",
        "√ñƒürenmeyi asla bƒ±rakmayƒ±n, √ß√ºnk√º hayat √∂ƒüretmeyi asla asla bƒ±rakmayacak.",
        "ƒ∞mkansƒ±z diye bir ≈üey yoktur, sadece farklƒ± bir √ß√∂z√ºm vardƒ±r.",
        "Kazanmak istiyorsan, √∂nce kendine inan.",
        "Zorluklar sizi durdurmak i√ßin deƒüil, g√º√ßlendirmek i√ßin vardƒ±r.",
        "M√ºcadeleler sizi durdurmak i√ßin deƒüil, g√º√ßlendirmek i√ßindir.",
        "Her g√ºn yeni bir ≈üanstƒ±r.",
        "Hedeflerinizden asla ≈üa≈ümayƒ±n.",
        "B√ºy√ºk i≈üler k√º√ß√ºk ba≈ülangƒ±√ßlardan doƒüar.",
        "Hayatta en b√ºy√ºk zafer, asla d√º≈ümemekte deƒüil, her d√º≈üt√ºƒü√ºnde yeniden ayaƒüa kalkmaktƒ±r.",
        "Zafer, en zorlu anlarda bile devam edenlere gelir.",
        "B√ºy√ºk hayaller kurun, √ß√ºnk√º b√ºy√ºk hayaller insanlarƒ± harekete ge√ßirir.",
        "Uzun bir yolculuƒüun ilk adƒ±mƒ±nƒ± atƒ±n.",
        "√ñƒürenmeyi asla bƒ±rakmayƒ±n, √ß√ºnk√º hayat √∂ƒüretmeyi asla bƒ±rakmaz.",
        "ƒ∞mkansƒ±z diye bir ≈üey yoktur, sadece farklƒ± bir √ß√∂z√ºm√º vardƒ±r.",
        "Eƒüer kazanmak istiyorsan, √∂nce kendine inan.",
        "Zorluklar sizi durdurmak i√ßin deƒüil, sizi g√º√ßlendirmek i√ßindir.",
        "Her g√ºn kendini yeniden yarat.",
        "Ama√ßlarƒ±nƒ±n pe≈üinden gitmeyi asla bƒ±rakma.",
        "Her k√º√ß√ºk adƒ±m, b√ºy√ºk bir amaca doƒüru ilerlemedir."
      ],
      en: [
        "You don‚Äôt have to be great to start.",
        "It‚Äôs never too late.",
        "You can do it!",
        "Hard work pays off.",
        "Don‚Äôt give up. Keep going.",
        "Start before you‚Äôre ready.",
        "Every day is a new opportunity.",
        "Never lose sight of your goals.",
        "Every great achievement begins with a small step.",
        "The greatest glory in living lies not in never falling, but in rising every time we fall.",
        "Victory comes to those who persevere, even in the toughest moments.",
        "Dream big, because big dreams move people.",
        "Take the first step of a long journey.",
        "Never stop learning, for life never stops teaching.",
        "There's no such thing as impossible, only a different solution.",
        "If you want to win, believe in yourself first.",
        "Challenges are not meant to stop you, but to strengthen you.",
        "Obstacles are there to strengthen you, not to stop you.",
        "Each day is a new chance.",
        "Never lose sight of your objectives.",
        "Great deeds are born from small beginnings.",
        "The greatest glory in life is not in never falling, but in rising every time we fall.",
        "Victory belongs to those who persist, even in the most difficult times.",
        "Dream big, because big dreams motivate people.",
        "Take the first step of a long journey.",
        "Never stop learning, because life never stops teaching.",
        "There's no such thing as impossible, only a different solution.",
        "If you want to win, first believe in yourself.",
        "Challenges are not meant to stop you, but to strengthen you.",
        "Reinvent yourself every day.",
        "Never give up on pursuing your goals.",
        "Every small step is progress towards a big goal."
      ],
      ru: [
        "–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –±—ã—Ç—å –≤–µ–ª–∏–∫–∏–º, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–∑–¥–Ω–æ.",
        "–¢—ã —Å–ø—Ä–∞–≤–∏—à—å—Å—è!",
        "–¢—Ä—É–¥ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø–ª–æ–¥—ã.",
        "–ù–µ —Å–¥–∞–≤–∞–π—Å—è, –ø—Ä–æ–¥–æ–ª–∂–∞–π.",
        "–ù–∞—á–Ω–∏, –¥–∞–∂–µ –µ—Å–ª–∏ —Å—Ç—Ä–∞—à–Ω–æ.",
        "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å ‚Äî –Ω–æ–≤—ã–π —à–∞–Ω—Å.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ç–µ—Ä—è–π—Ç–µ –∏–∑ –≤–∏–¥—É —Å–≤–æ–∏ —Ü–µ–ª–∏.",
        "–ö–∞–∂–¥–æ–µ –≤–µ–ª–∏–∫–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —à–∞–≥–∞.",
        "–í–µ–ª–∏—á–∞–π—à–∞—è —Å–ª–∞–≤–∞ –≤ –∂–∏–∑–Ω–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–µ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–¥–∞—Ç—å, –∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–¥–Ω–∏–º–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–∞–¥–∞–µ—à—å.",
        "–ü–æ–±–µ–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ —Ç–µ–º, –∫—Ç–æ —É–ø–æ—Ä—Å—Ç–≤—É–µ—Ç, –¥–∞–∂–µ –≤ —Å–∞–º—ã–µ —Ç—Ä—É–¥–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.",
        "–ú–µ—á—Ç–∞–π—Ç–µ –æ –±–æ–ª—å—à–µ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –±–æ–ª—å—à–∏–µ –º–µ—á—Ç—ã –¥–≤–∏–≥–∞—é—Ç –ª—é–¥–µ–π.",
        "–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —à–∞–≥ –≤ –¥–æ–ª–≥–æ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–µ–∫—Ä–∞—â–∞–π—Ç–µ —É—á–∏—Ç—å—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –∂–∏–∑–Ω—å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç —É—á–∏—Ç—å.",
        "–ù–µ—Ç –Ω–∏—á–µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–≥–æ, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ.",
        "–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–±–µ–¥–∏—Ç—å, —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≤–µ—Ä—å –≤ —Å–µ–±—è.",
        "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–∞—Å, –∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∫—Ä–µ–ø–∏—Ç—å –≤–∞—Å.",
        "–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç, —á—Ç–æ–±—ã —É–∫—Ä–µ–ø–∏—Ç—å –≤–∞—Å, –∞ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.",
        "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å - —ç—Ç–æ –Ω–æ–≤—ã–π —à–∞–Ω—Å.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ç–µ—Ä—è–π—Ç–µ –∏–∑ –≤–∏–¥—É —Å–≤–æ–∏ —Ü–µ–ª–∏.",
        "–í–µ–ª–∏–∫–∏–µ –¥–µ–ª–∞ —Ä–æ–∂–¥–∞—é—Ç—Å—è –∏–∑ –º–∞–ª—ã—Ö –Ω–∞—á–∞–ª.",
        "–°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–ª–∞–≤–∞ –≤ –∂–∏–∑–Ω–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–µ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∞–¥–∞—Ç—å, –∞ –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–¥–Ω–∏–º–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–∞–¥–∞–µ—à—å.",
        "–ü–æ–±–µ–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∫ —Ç–µ–º, –∫—Ç–æ —É–ø–æ—Ä—Å—Ç–≤—É–µ—Ç –¥–∞–∂–µ –≤ —Å–∞–º—ã–µ —Ç—Ä—É–¥–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞.",
        "–ú–µ—á—Ç–∞–π—Ç–µ –æ –≤–µ–ª–∏–∫–æ–º, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤–µ–ª–∏–∫–∏–µ –º–µ—á—Ç—ã –¥–≤–∏–∂—É—Ç –ª—é–¥—å–º–∏.",
        "–°–¥–µ–ª–∞–π—Ç–µ –ø–µ—Ä–≤—ã–π —à–∞–≥ –¥–æ–ª–≥–æ–≥–æ –ø—É—Ç–∏.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–≤–∞–π—Ç–µ —É—á–∏—Ç—å—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –∂–∏–∑–Ω—å –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —É—á–∏—Ç—å.",
        "–ù–µ—Ç –Ω–∏—á–µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–≥–æ, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –¥—Ä—É–≥–æ–µ —Ä–µ—à–µ–Ω–∏–µ.",
        "–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–±–µ–¥–∏—Ç—å, —Å–Ω–∞—á–∞–ª–∞ –ø–æ–≤–µ—Ä—å—Ç–µ –≤ —Å–µ–±—è.",
        "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–∞—Å, –∞ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∫—Ä–µ–ø–∏—Ç—å.",
        "–ü–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–µ–±—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.",
        "–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–∫–∞–∑—ã–≤–∞–π—Ç–µ—Å—å –æ—Ç —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π.",
        "–ö–∞–∂–¥—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π —à–∞–≥ ‚Äî —ç—Ç–æ –¥–≤–∏–∂–µ–Ω–∏–µ –∫ –±–æ–ª—å—à–æ–π —Ü–µ–ª–∏."
      ]
    };

    let current = 0;
    let currentLang = 'tk';
    const titleElement = document.getElementById("title");
    const quoteBoxElement = document.getElementById("quoteBox");
    const quoteContentElement = document.getElementById("quoteContent");
    const nextButtonElement = document.getElementById("nextBtn");
    const saveButtonElement = document.getElementById("saveBtn");
    const shareButtonElement = document.getElementById("shareBtn");
    const favoritesPanelElement = document.getElementById("favoritesPanel");
    const favoritesListElement = document.getElementById("favoritesList");
    const headerElement = document.querySelector("header");

    // NEW: Array to store the last 5 used quote indices to prevent repetition
    let lastUsedIndices = [];
    const REPETITION_LIMIT = 5; 
    
    // NEW: Language specific text mappings for all new elements
    const textMap = {
        tk: {
            title: "Motivasion S√∂zleri",
            nextBtn: "Indiki s√∂zi √º√Ωtget",
            saveBtn: "‚≠ê Kaydet",
            shareBtn: "üì§ Pa√Ωla≈ü",
            settingsToggle: "‚öôÔ∏è Sazlamalar",
            favoritesTitle: "Kaydedilen S√∂zler",
            closeFavoritesBtn: "Kapat",
            favoritesBtn: "‚≠ê Kaydedilenler",
            noFavorites: "Heniz hi√ß s√∂z kaydedilmedi.",
            saveSuccess: "S√∂z Kaydedildi!",
            saveDuplicate: "Bu s√∂z e√Ω√Ω√§m kaydedildi."
        },
        tr: {
            title: "Motivasyon S√∂zleri",
            nextBtn: "Sonraki s√∂z√º deƒüi≈ütir",
            saveBtn: "‚≠ê Kaydet",
            shareBtn: "üì§ Payla≈ü",
            settingsToggle: "‚öôÔ∏è Ayarlar",
            favoritesTitle: "Kaydedilen S√∂zler",
            closeFavoritesBtn: "Kapat",
            favoritesBtn: "‚≠ê Kaydedilenler",
            noFavorites: "Hen√ºz hi√ß s√∂z kaydedilmedi.",
            saveSuccess: "S√∂z Ba≈üarƒ±yla Kaydedildi!",
            saveDuplicate: "Bu s√∂z zaten kaydedilmi≈ü."
        },
        en: {
            title: "Motivational Quotes",
            nextBtn: "Next quote",
            saveBtn: "‚≠ê Save",
            shareBtn: "üì§ Share",
            settingsToggle: "‚öôÔ∏è Settings",
            favoritesTitle: "Saved Quotes",
            closeFavoritesBtn: "Close",
            favoritesBtn: "‚≠ê Saved Items",
            noFavorites: "No quotes saved yet.",
            saveSuccess: "Quote Saved Successfully!",
            saveDuplicate: "This quote is already saved."
        },
        ru: {
            title: "–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ –¶–∏—Ç–∞—Ç—ã",
            nextBtn: "–°–ª–µ–¥—É—é—â–∞—è —Ü–∏—Ç–∞—Ç–∞",
            saveBtn: "‚≠ê –°–æ—Ö—Ä–∞–Ω–∏—Ç—å",
            shareBtn: "üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è",
            settingsToggle: "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
            favoritesTitle: "–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¶–∏—Ç–∞—Ç—ã",
            closeFavoritesBtn: "–ó–∞–∫—Ä—ã—Ç—å",
            favoritesBtn: "‚≠ê –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ",
            noFavorites: "–ï—â–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∏ –æ–¥–Ω–æ–π —Ü–∏—Ç–∞—Ç—ã.",
            saveSuccess: "–¶–∏—Ç–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!",
            saveDuplicate: "–≠—Ç–∞ —Ü–∏—Ç–∞—Ç–∞ —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞."
        }
    };
    
    // Initial load and setup
    document.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('metaflow_lang') || 'tk';
      const savedTheme = localStorage.getItem('metaflow_theme') || 'simple';
      
      setTheme(savedTheme);
      setLanguage(savedLang, true); 
      
      // Keep the original loading animations for a smooth start
      headerElement.style.animationPlayState = 'running';
      
      setTimeout(() => {
        titleElement.style.animationPlayState = 'running';
        titleElement.style.opacity = 1;
      }, 500);
      setTimeout(() => {
        quoteBoxElement.style.animationPlayState = 'running';
        quoteBoxElement.style.opacity = 1;
        quoteBoxElement.style.transform = 'scale(1)';
      }, 900);
      setTimeout(() => {
        const actionButtons = document.querySelector('.action-buttons');
        if(actionButtons) {
            actionButtons.style.animationPlayState = 'running';
            actionButtons.style.opacity = 1;
            actionButtons.style.transform = 'translateY(0)';
        }
      }, 1300);
      setTimeout(() => {
        const footerElement = document.querySelector('footer');
        if(footerElement) {
            footerElement.style.animationPlayState = 'running';
            footerElement.style.opacity = 1;
            footerElement.style.transform = 'translateY(0)';
        }
      }, 1700);
    });

    // UPDATED nextQuote function with Repetition Logic and Fade Animation (Fixing the loop issue)
    function nextQuote() {
      const availableQuotes = quotes[currentLang];
      
      // 1. Fade out the current quote (UX Improvement)
      quoteBoxElement.classList.add('fade-out'); 

      // 2. Wait for fade out, then change content
      setTimeout(() => {
        let newIndex;
        let attempts = 0;
        
        // Repetition Prevention Logic (Finding a non-repeated index)
        do {
          newIndex = Math.floor(Math.random() * availableQuotes.length);
          attempts++;
          if (availableQuotes.length <= REPETITION_LIMIT && attempts > availableQuotes.length) break; 
        } while (lastUsedIndices.includes(newIndex) && attempts < availableQuotes.length * 2); 

        current = newIndex;
        
        // Update Repetition history
        lastUsedIndices.push(current);
        if (lastUsedIndices.length > REPETITION_LIMIT) {
          lastUsedIndices.shift(); 
        }
        
        // Update the content
        quoteContentElement.textContent = availableQuotes[current];
        
        // 3. Fade in the new quote
        quoteBoxElement.classList.remove('fade-out');

        // Reset the box glow/scale animation
        quoteBoxElement.style.animation = 'none'; 
        void quoteBoxElement.offsetWidth; 
        quoteBoxElement.style.animation = 'scaleUp 1s ease-out forwards, glow 2.5s infinite alternate, fadeInQuote 1s ease-out forwards';
        
      }, 500); // Wait 500ms for the CSS transition (fade-out) to complete
    }

    // NEW: Save Quote Function (S√∂z√º Kaydet)
    function saveQuote() {
        const quoteText = quoteContentElement.textContent.trim();
        const key = `favorites_${currentLang}`; 
        let favorites = JSON.parse(localStorage.getItem(key)) || [];

        if (favorites.includes(quoteText)) {
            alert(textMap[currentLang].saveDuplicate);
            return;
        }

        favorites.push(quoteText); 
        localStorage.setItem(key, JSON.stringify(favorites)); 
        alert(textMap[currentLang].saveSuccess);
    }
    
    // NEW: Share Quote Function (S√∂z√º Payla≈ü)
    function shareQuote() {
        const quoteText = quoteContentElement.textContent.trim();
        const shareTitle = textMap[currentLang].title;
        const shareUrl = window.location.href; 
        
        if (navigator.share) {
            navigator.share({
                title: shareTitle,
                text: `${quoteText}\n\nMetaFlow Motivasyon S√∂zleri Uygulamasƒ±ndan.`,
                url: shareUrl,
            }).catch(error => console.log('Sharing failed', error));
        } else {
            // Fallback for browsers that don't support Web Share API
            const textToCopy = `${quoteText} ‚Äî MetaFlow\n(Baƒülantƒ±: ${shareUrl})`;
            navigator.clipboard.writeText(textToCopy).then(() => {
                alert("S√∂z panoya kopyalandƒ±:\n" + quoteText);
            }).catch(err => {
                console.error('Could not copy text: ', err);
            });
        }
    }
    
    // NEW: Load Favorites Panel Function (Kaydedilenleri G√∂ster)
    function loadFavorites() {
        toggleSettings(); // Close settings panel
        favoritesPanelElement.style.display = 'flex';
        
        const key = `favorites_${currentLang}`;
        let favorites = JSON.parse(localStorage.getItem(key)) || [];
        
        favoritesListElement.innerHTML = ''; // Clear current list
        
        if (favorites.length === 0) {
            favoritesListElement.innerHTML = `<p class="no-favorites">${textMap[currentLang].noFavorites}</p>`;
            return;
        }

        favorites.forEach((quote, index) => {
            const listItem = document.createElement('li');
            listItem.classList.add('favorite-item');
            listItem.innerHTML = `
                <span>${quote}</span>
                <button class="delete-btn" onclick="deleteQuote('${quote.replace(/'/g, "\\'")}')">‚úñ</button>
            `;
            favoritesListElement.appendChild(listItem);
        });
    }

    // NEW: Delete Quote Function (S√∂z√º Sil)
    function deleteQuote(quoteText) {
        const key = `favorites_${currentLang}`;
        let favorites = JSON.parse(localStorage.getItem(key)) || [];
        
        // Filter out the quote to be deleted
        favorites = favorites.filter(q => q !== quoteText);
        
        localStorage.setItem(key, JSON.stringify(favorites));
        
        // Reload the panel to reflect changes
        loadFavorites(); 
    }
    
    // NEW: Close Favorites Panel (Paneli Kapat)
    function closeFavorites() {
        favoritesPanelElement.style.display = 'none';
    }

    function setTheme(type) {
      const body = document.body;
      let newBackground;
      let newColor;

      if (type === 'girl') {
        newBackground = 'linear-gradient(135deg, #ffe6f0, #ffc0cb, #ffe6f0)';
        newColor = '#3a000d';
      } else if (type === 'boy') {
        newBackground = 'linear-gradient(135deg, #001f3f, #005f9f, #001f3f)';
        newColor = '#fff';
      } else { 
        newBackground = 'linear-gradient(135deg, #0a0a0a, #1a1a1a, #0a0a0a)';
        newColor = '#e0e0e0';
      }

      body.style.background = newBackground;
      body.style.color = newColor;
      localStorage.setItem('metaflow_theme', type); // Save setting
    }

    function setLanguage(lang, initialLoad = false) {
      currentLang = lang;
      localStorage.setItem('metaflow_lang', lang); // Save setting
      
      current = 0; // Reset quote index on language change
      // Try to load a new quote to avoid showing the same one after language switch
      let randomIndex = Math.floor(Math.random() * quotes[lang].length);
      quoteContentElement.textContent = quotes[lang][randomIndex]; 
      
      // Update all visible texts
      document.getElementById("title").textContent = textMap[lang].title;
      document.getElementById("nextBtn").textContent = textMap[lang].nextBtn;
      document.getElementById("saveBtn").textContent = textMap[lang].saveBtn;
      document.getElementById("shareBtn").textContent = textMap[lang].shareBtn;
      document.querySelector(".settings-toggle").textContent = textMap[lang].settingsToggle;
      document.getElementById("favoritesTitle").textContent = textMap[lang].favoritesTitle;
      document.getElementById("closeFavoritesBtn").textContent = textMap[lang].closeFavoritesBtn;
      
      // Update the "Kaydedilenler" button text in settings panel
      const favoritesBtnInSettings = document.querySelector('.settings button[onclick="loadFavorites()"]');
      if (favoritesBtnInSettings) {
        favoritesBtnInSettings.textContent = textMap[lang].favoritesBtn;
      }
      
      if (!initialLoad) {
        nextQuote();
      }
    }
    
    function toggleSettings() {
      const panel = document.getElementById("settingsPanel");
      if (panel.style.display === 'block') {
        panel.classList.add('hidden');
        panel.addEventListener('animationend', function handler() {
          panel.style.display = 'none';
          panel.classList.remove('hidden');
          panel.removeEventListener('animationend', handler);
        });
      } else {
        panel.style.display = 'block';
        panel.classList.remove('hidden');
      }
    }
  </script>
</body>
</html>